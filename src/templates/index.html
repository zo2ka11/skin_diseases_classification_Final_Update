<!DOCTYPE html>
{% load static  %}
{% load bootstrap5  %}

<html lang="en"> 

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>IDoctor</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->

  <link href="{% static '' %}img/logo.png" rel="icon">
  <link href="{% static '' %}img/logo.png" rel="apple-touch-icon">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google Fonts Link For Icons -->
  <link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  <link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" />
  <script src="script.js" defer></script>


  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static '' %}vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="{% static '' %}vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="{% static '' %}vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="{% static '' %}vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="{% static '' %}vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="{% static '' %}vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="{% static '' %}vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="{% static '' %}vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <!-- Template Main CSS File -->
  <link href="{% static '' %}css/style.css" rel="stylesheet">
  <!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://kit.fontawesome.com/cba01bb0d0.js" crossorigin="anonymous"></script>

</head>

<body >

  <!-- ======= Top Bar ======= -->
  {% comment %} <div id="topbar" class="d-flex align-items-center fixed-top">
    <div class="container d-flex justify-content-between">
      <div class="contact-info d-flex align-items-center">
        <i class="bi bi-envelope"></i> <a href="mailto:contact@example.com">contact@example.com</a>
        <i class="bi bi-phone"></i> +1 5589 55488 55
      </div>
      <div class="d-none d-lg-flex social-links align-items-center">
        <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
        <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
        <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
        <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></i></a>
      </div>
    </div>
  </div> {% endcomment %}

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top" >
    <div class="container d-flex align-items-center">

      <h1 class="logo me-auto"><a href=""><img src="{% static 'img/apple-touch-icon.png' %}" alt="logo" height="200px" class="img-fluid"></a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo me-auto"><img src="{% static '' %}img/logo.png" alt="" class="img-fluid"></a>-->

      <nav id="navbar" class="navbar order-last order-lg-0">
        <ul>
          <li><a class="nav-link scrollto active" href="#hero">Home</a></li>
          <li><a class="nav-link scrollto" href="#about">Prediction</a></li>
          {% comment %} 
          <li><a class="nav-link scrollto" href="#departments">Departments</a></li>
          <li><a class="nav-link scrollto" href="#doctors">Doctors</a></li> {% endcomment %}
          <li><a class="nav-link scrollto" href="#contact">Contact</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

      {% comment %} <a href="#appointment" class="appointment-btn scrollto"><span class="d-none d-md-inline">Make an</span> Appointment</a> {% endcomment %}

    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex align-items-center">
    <div class="container">
      <h1><span class="typed"></span></h1>
      <h2><span class="typed"></span>We are team of talented designers making <br> websites with Bootstrap</h2>
    </div>
  </section><!-- End Hero -->

  <main id="main">

    <!-- ======= Why Us Section ======= -->
    <section id="why-us" class="why-us">
  

        <div class="row">
        
            <div class="content">
          
                  </div>
                </div>
              </div>
            </div><!-- End .content-->
          </div>
        </div>

      </div>
    </section><!-- End Why Us Section -->

    <!-- ======= About Section ======= -->
    <section id="about" class="about">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-12">
            <h2 class="text-center">Skin Diseases Image Prediction</h2>
            <p class="lead text-center">Under the Supervision of a Real Doctor.</p>
          </div>
        </div>
        <div class="row mb-5">
          <div class="col-md-8 my-5 mx-auto">
            <form  method="post" id="pred_form" action="{% url 'skin:home' %}" class="form" name="predForm" enctype="multipart/form-data"  >
              {% csrf_token %}
              <div class="row">
                <div class="col-md-8">
                  <input class="form-control" type="file" name="skin_image" id="formFile">
                </div>
                <div class="col-md-4 ">
                  <button type="submit" class="col-md-12 btn btn-primary ">Make Prediction</button>
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="row" id="pred_result">
          <div class="col-xl-5 col-lg-6 video-box d-flex justify-content-center align-items-stretch position-relative" style="background-image:url('{{skin.skin_image.url}}');background-size:cover">
          </div>
          
          <div class="col-xl-7 col-lg-6 icon-boxes d-flex flex-column align-items-stretch justify-content-center py-5 px-lg-5">
            <h1 class="mx-auto mb-5"><strong>Our Prediction Report</strong></h1>
            <h3 class="text-center">This disease is <strong>" {{skin.skin_classification}} "</strong> with accuracy <strong>" {{skin.skin_accuracy}} % "</strong></h3>
            <p><strong>{{diseas_info.title}}</strong> : {{diseas_info.definition}}</p>

            <div class="icon-box">
              <div class="icon"><i class="fa fa-disease"></i></div>
              <h4 class="title">{{diseas_info.title}} Causes</h4>
              <p class="description">{{diseas_info.causes}}</p>
            </div>

            <div class="icon-box">
              <div class="icon"><i class="fa fa-kit-medical"></i></div>
              <h4 class="title">{{diseas_info.title}} Treatment</h4>
              <p class="description">{{diseas_info.treatment}}</p>
            </div>
            <div class="icon-box text-center">
              <a href="{% url 'skin:download_pdf' %}" class="btn btn-primary p-3" style="border-raduis:25px;" target="_blank"> <i class="fa fa-download" aria-hidden="true"></i> Download Prediction Report</a>
            </div>
            
          </div>
        </div>
      </div>
    </section><!-- End About Section -->


    <section id="chat" class="chat"> 
      <div class="chatbot">
        <header>
            <h2>Tell us more about the disease</h2>
        </header>
        <ul class="chatbox">
            <li class="chat incoming">
                <span class="material-symbols-outlined">smart_toy</span>
                <p>Hi there <span class="wave">ðŸ‘‹</span><br>How can I help you today?</p>
            </li>
            
        </ul>
        <div class="chat-input">
            <textarea placeholder="Enter a message..." spellcheck="false"
                required></textarea>
            <span id="send-btn" class="material-symbols-rounded">send</span>
        </div>
      </div>
    </section>

    
      {% comment %} <!-- ======= Appointment Section ======= -->
      <section id="appointment" class="appointment section-bg">
        <div class="container">
  
          <div class="section-title">
            <h2>Make an Appointment</h2>
            <p>Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.</p>
          </div>
  
          <form action="forms/appointment.php" method="post" role="form" class="php-email-form">
            <div class="row">
              <div class="col-md-4 form-group">
                <input type="text" name="name" class="form-control" id="name" placeholder="Your Name" data-rule="minlen:4" data-msg="Please enter at least 4 chars">
                <div class="validate"></div>
              </div>
              <div class="col-md-4 form-group mt-3 mt-md-0">
                <input type="email" class="form-control" name="email" id="email" placeholder="Your Email" data-rule="email" data-msg="Please enter a valid email">
                <div class="validate"></div>
              </div>
              <div class="col-md-4 form-group mt-3 mt-md-0">
                <input type="tel" class="form-control" name="phone" id="phone" placeholder="Your Phone" data-rule="minlen:4" data-msg="Please enter at least 4 chars">
                <div class="validate"></div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4 form-group mt-3">
                <input type="datetime" name="date" class="form-control datepicker" id="date" placeholder="Appointment Date" data-rule="minlen:4" data-msg="Please enter at least 4 chars">
                <div class="validate"></div>
              </div>
              <div class="col-md-4 form-group mt-3">
                <select name="department" id="department" class="form-select">
                  <option value="">Select Department</option>
                  <option value="Department 1">Department 1</option>
                  <option value="Department 2">Department 2</option>
                  <option value="Department 3">Department 3</option>
                </select>
                <div class="validate"></div>
              </div>
              <div class="col-md-4 form-group mt-3">
                <select name="doctor" id="doctor" class="form-select">
                  <option value="">Select Doctor</option>
                  <option value="Doctor 1">Doctor 1</option>
                  <option value="Doctor 2">Doctor 2</option>
                  <option value="Doctor 3">Doctor 3</option>
                </select>
                <div class="validate"></div>
              </div>
            </div>
  
            <div class="form-group mt-3">
              <textarea class="form-control" name="message" rows="5" placeholder="Message (Optional)"></textarea>
              <div class="validate"></div>
            </div>
            <div class="mb-3">
              <div class="loading">Loading</div>
              <div class="error-message"></div>
              <div class="sent-message">Your appointment request has been sent successfully. Thank you!</div>
            </div>
            <div class="text-center"><button type="submit">Make an Appointment</button></div>
          </form>
  
        </div>
      </section><!-- End Appointment Section -->

  {% endcomment %}

    <!-- ======= Doctors Section ======= -->
    <section id="doctors" class="doctors">
      <div class="container">

        <div class="section-title">
          <h2>Doctors</h2>
          <p>It takes great pains to benefit. His needs result from something that actually drives him away. Let them be what they want. Anyone whom anyone desires. And no one who hinders receives the others. Because he should flee in this office of convenience, which is here.</p>
        </div>

        <div class="row">

          <div class="col-lg-6">
            <div class="member d-flex align-items-start">
              <div class="pic"><img src="{% static '' %}img/doctors/doctors-1.jpeg" class="img-fluid" alt=""></div>
              <div class="member-info">
                <h4>Ahmad Mourad</h4>
                <span>Dermatologist</span>
                <p>Dermatologist in Kasr Al-Ainy</p>
                <div class="social">
                  <a href="mailto:ahmedmourad@kasralainy.edu.eg"><i class="ri-mail-fill"></i></a>
                  <a href=""><i class="ri-facebook-fill"></i></a>
                  <a href=""><i class="ri-instagram-fill"></i></a>
                  <a href=""> <i class="ri-linkedin-box-fill"></i> </a>
                </div>
              </div>
            </div>
          </div>

        </div>

      </div>
    </section><!-- End Doctors Section -->

    <!-- ======= Frequently Asked Questions Section ======= -->
    {% comment %} <section id="faq" class="faq section-bg">
      <div class="container">

        <div class="section-title">
          <h2>Frequently Asked Questions</h2>
          <p>It takes great pains to benefit. His needs result from something that actually drives him away. Let them be what they want. Anyone whom anyone desires. And no one who hinders receives the others. Because he should flee in this office of convenience, which is here.</p>
        </div>

        <div class="faq-list">
          <ul>
            <li data-aos="fade-up">
              <i class="bx bx-help-circle icon-help"></i> <a data-bs-toggle="collapse" class="collapse" data-bs-target="#faq-list-1">Non consectetur a erat nam at lectus urna duis? <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-chevron-up icon-close"></i></a>
              <div id="faq-list-1" class="collapse show" data-bs-parent=".faq-list">
                <p>
                  The price of the product is very low. Time targeted urn id volutpat lacus laoreet will not be taken care of pregnant. Venenatis bed great fringilla urn porttitor rhoncus pain pure not.
                </p>
              </div>
            </li>

            <li data-aos="fade-up" data-aos-delay="100">
              <i class="bx bx-help-circle icon-help"></i> <a data-bs-toggle="collapse" data-bs-target="#faq-list-2" class="collapsed">Feugiat scelerisque varius morbi enim nunc? <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-chevron-up icon-close"></i></a>
              <div id="faq-list-2" class="collapse" data-bs-parent=".faq-list">
                <p>
                  The pain should be followed by the education of the people living with the disease. Sometimes it's just a matter of time. Fragilla phasellus faucibus chocolate eleifend until the price. It's a great asset for the kids. Mauris ultrices eros in the course of the university mass tincidunt dui.
                </p>
              </div>
            </li>

            <li data-aos="fade-up" data-aos-delay="200">
              <i class="bx bx-help-circle icon-help"></i> <a data-bs-toggle="collapse" data-bs-target="#faq-list-3" class="collapsed">Dolor sit amet consectetur adipiscing elit? <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-chevron-up icon-close"></i></a>
              <div id="faq-list-3" class="collapse" data-bs-parent=".faq-list">
                <p>
                  to put some care in the doctor's office. For the whole element of the pillow. If there is no quiver in the diam, the players will receive it. Rutrum terlus pellentesque eu tincidunt. Bed urn two valley valley valley. Urna employee at the element of easy football but hate the disease who
                </p>
              </div>
            </li>

            <li data-aos="fade-up" data-aos-delay="300">
              <i class="bx bx-help-circle icon-help"></i> <a data-bs-toggle="collapse" data-bs-target="#faq-list-4" class="collapsed">Tempus quam pellentesque nec nam aliquam sem et tortor consequat? <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-chevron-up icon-close"></i></a>
              <div id="faq-list-4" class="collapse" data-bs-parent=".faq-list">
                <p>
                  It was a nuisance from the targets but it was an advantage for the students. It is worth hanging on before. Now, even a smile is a good way to draw a layer of curtains. It should be a lot of fans to drink. Pure pregnant who flatters the ugly course.
                </p>
              </div>
            </li>

            <li data-aos="fade-up" data-aos-delay="400">
              <i class="bx bx-help-circle icon-help"></i> <a data-bs-toggle="collapse" data-bs-target="#faq-list-5" class="collapsed">Tortor vitae purus faucibus ornare. Varius vel pharetra vel turpis nunc eget lorem dolor? <i class="bx bx-chevron-down icon-show"></i><i class="bx bx-chevron-up icon-close"></i></a>
              <div id="faq-list-5" class="collapse" data-bs-parent=".faq-list">
                <p>
                  Laureet let it be a great course, it would be said, it would be just. The whole life of Mauris ultricies is expected now or There is no need for dyes unless it is important. It's a terrible thing to do now. In order to protect the land in fear of vulputate eu scelerisque.
                </p>
              </div>
            </li>

          </ul>
        </div>

      </div>
    </section> {% endcomment %}
    <!-- End Frequently Asked Questions Section -->

    <!-- ======= Testimonials Section ======= -->
    {% comment %} <section id="testimonials" class="testimonials">
      <div class="container">

        <div class="testimonials-slider swiper" data-aos="fade-up" data-aos-delay="100">
          <div class="swiper-wrapper">

            <div class="swiper-slide">
              <div class="testimonial-wrap">
                <div class="testimonial-item">
                  <img src="{% static '' %}img/testimonials/testimonials-1.jpg" class="testimonial-img" alt="">
                  <h3>Saul Goodman</h3>
                  <h4>Ceo &amp; Founder</h4>
                  <p>
                    <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    For the target group, the result is worth taking care of until the airline takes over. The accusers, however, need that, and need some discipline. Some faintness, but always a smile.
                    <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                  </p>
                </div>
              </div>
            </div><!-- End testimonial item -->

            <div class="swiper-slide">
              <div class="testimonial-wrap">
                <div class="testimonial-item">
                  <img src="{% static '' %}img/testimonials/testimonials-2.jpg" class="testimonial-img" alt="">
                  <h3>Sara Wilsson</h3>
                  <h4>Designer</h4>
                  <p>
                    <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    Export time, however, I was for the evils of the evils that I was going to be angry with the effort that I was going to be the one who was the one who was going to be the one who wanted to be.
                    <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                  </p>
                </div>
              </div>
            </div><!-- End testimonial item -->

            <div class="swiper-slide">
              <div class="testimonial-wrap">
                <div class="testimonial-item">
                  <img src="{% static '' %}img/testimonials/testimonials-3.jpg" class="testimonial-img" alt="">
                  <h3>Jena Karlis</h3>
                  <h4>Store Owner</h4>
                  <p>
                    <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    For if I did not export a hair from your house, which are great, none of which I would bring to your house for a short time, I would have been my home, or I would have been the smallest.
                    <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                  </p>
                </div>
              </div>
            </div><!-- End testimonial item -->

            <div class="swiper-slide">
              <div class="testimonial-wrap">
                <div class="testimonial-item">
                  <img src="{% static '' %}img/testimonials/testimonials-4.jpg" class="testimonial-img" alt="">
                  <h3>Matt Brandon</h3>
                  <h4>Freelancer</h4>
                  <p>
                    <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    For I was fleeing from the pain of pain, there is no fault in the export of many.
                    <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                  </p>
                </div>
              </div>
            </div><!-- End testimonial item -->

            <div class="swiper-slide">
              <div class="testimonial-wrap">
                <div class="testimonial-item">
                  <img src="{% static '' %}img/testimonials/testimonials-5.jpg" class="testimonial-img" alt="">
                  <h3>John Larson</h3>
                  <h4>Entrepreneur</h4>
                  <p>
                    <i class="bx bxs-quote-alt-left quote-icon-left"></i>
                    Wanted quorum aliqua sint who legate fore sunt eram irure aliqua veniam tempor noster veniam enim culpa labore duis sunt culpa nulla illum cillum fugiat legam veniam culpa fore nisi cillum quid.
                    <i class="bx bxs-quote-alt-right quote-icon-right"></i>
                  </p>
                </div>
              </div>
            </div><!-- End testimonial item -->

          </div>
          <div class="swiper-pagination"></div>
        </div>

      </div>
    </section> {% endcomment %}
    <!-- End Testimonials Section -->

    

    <!-- ======= Contact Section ======= -->
    <section id="contact" class="contact">
      <div class="container">

        <div class="section-title">
          <h2>Contact</h2>
          {% comment %} <p>Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.</p> {% endcomment %}
        </div>
      </div>

      <div class="container">
        <div class="row mt-5">

          <div class="col-lg-4">
            <div class="info">
              <div class="address">
                <i class="bi bi-geo-alt"></i>
                <h4>Location:</h4>
                <p>A108 Adam Street, New York, NY 535022</p>
              </div>

              <div class="email">
                <i class="bi bi-envelope"></i>
                <h4>Email:</h4>
                <p>info@example.com</p>
              </div>

              <div class="phone">
                <i class="bi bi-phone"></i>
                <h4>Call:</h4>
                <p>+1 5589 55488 55s</p>
              </div>

            </div>

          </div>

          <div class="col-lg-8 mt-5 mt-lg-0">

            <form action="forms/contact.php" method="post" role="form" class="php-email-form">
              <div class="row">
                <div class="col-md-6 form-group">
                  <input type="text" name="name" class="form-control" id="name" placeholder="Your Name" required>
                </div>
                <div class="col-md-6 form-group mt-3 mt-md-0">
                  <input type="email" class="form-control" name="email" id="email" placeholder="Your Email" required>
                </div>
              </div>
              <div class="form-group mt-3">
                <input type="text" class="form-control" name="subject" id="subject" placeholder="Subject" required>
              </div>
              <div class="form-group mt-3">
                <textarea class="form-control" name="message" rows="5" placeholder="Message" required></textarea>
              </div>
              <div class="my-3">
                <div class="loading">Loading</div>
                <div class="error-message"></div>
                <div class="sent-message">Your message has been sent. Thank you!</div>
              </div>
              <div class="text-center"><button type="submit">Send Message</button></div>
            </form>

          </div>

        </div>

      </div>
    </section><!-- End Contact Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-3 col-md-6 footer-contact">
            <h3>IDoctor</h3>
            <p>
              A108 Adam Street <br>
              New York, NY 535022<br>
              United States <br><br>
              <strong>Phone:</strong> +1 5589 55488 55<br>
              <strong>Email:</strong> info@example.com<br>
            </p>
          </div>

          <div class="col-lg-2 col-md-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">About us</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Services</a></li>
            
            </ul>
          </div>

          <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js" referrerpolicy="no-referrer"></script>
            <script>
                var typed = new Typed(".typed",{
                    strings:["","Welcome to I-Doctor"],
                    typeSpeed:50,
                    BackSpeed:20,
                    loop:true
                })
            </script>

            <script>
              var chatTyped = new Typed(".chat-typed",{
                strings:["","Tell us more about the disease"],
                typeSpeed:50,
                BackSpeed:20,
                loop:true
            })
            </script>

{% comment %} -----------------------------------Chat Desgin--------------------------------- {% endcomment %}
            <script>
              const chatbotToggler = document.querySelector(".chatbot-toggler");
              const closeBtn = document.querySelector(".close-btn");
              const chatbox = document.querySelector(".chatbox");
              const chatInput = document.querySelector(".chat-input textarea");
              const sendChatBtn = document.querySelector(".chat-input span");

              let userMessage = null; // Variable to store user's message
              const API_KEY = "PASTE-YOUR-API-KEY"; // Paste your API key here
              const inputInitHeight = chatInput.scrollHeight;

              const createChatLi = (message, className) => {
                  // Create a chat <li> element with passed message and className
                  const chatLi = document.createElement("li");
                  chatLi.classList.add("chat", `${className}`);
                  let chatContent = className === "outgoing" ? `<p></p>` : `<span class="material-symbols-outlined">smart_toy</span><p></p>`;
                  chatLi.innerHTML = chatContent;
                  chatLi.querySelector("p").textContent = message;
                  return chatLi; // return chat <li> element
              }

              const generateResponse = (chatElement) => {
                  const API_URL = "https://api.openai.com/v1/chat/completions";
                  const messageElement = chatElement.querySelector("p");

                  // Define the properties and message for the API request
                  const requestOptions = {
                      method: "POST",
                      headers: {
                          "Content-Type": "application/json",
                          "Authorization": `Bearer ${API_KEY}`
                      },
                      body: JSON.stringify({
                          model: "gpt-3.5-turbo",
                          messages: [{role: "user", content: userMessage}],
                      })
                  }

                  // Send POST request to API, get response and set the reponse as paragraph text
                  fetch(API_URL, requestOptions).then(res => res.json()).then(data => {
                      messageElement.textContent = data.choices[0].message.content.trim();
                  }).catch(() => {
                      messageElement.classList.add("error");
                      messageElement.textContent = "Oops! Something went wrong. Please try again.";
                  }).finally(() => chatbox.scrollTo(0, chatbox.scrollHeight));
              }

              const handleChat = () => {
                  userMessage = chatInput.value.trim(); // Get user entered message and remove extra whitespace
                  if(!userMessage) return;

                  // Clear the input textarea and set its height to default
                  chatInput.value = "";
                  chatInput.style.height = `${inputInitHeight}px`;

                  // Append the user's message to the chatbox
                  chatbox.appendChild(createChatLi(userMessage, "outgoing"));
                  chatbox.scrollTo(0, chatbox.scrollHeight);
                  
                  setTimeout(() => {
                      // Display "Thinking..." message while waiting for the response
                      const incomingChatLi = createChatLi("Thinking...", "incoming");
                      chatbox.appendChild(incomingChatLi);
                      chatbox.scrollTo(0, chatbox.scrollHeight);
                      generateResponse(incomingChatLi);
                  }, 600);
              }

              chatInput.addEventListener("input", () => {
                  // Adjust the height of the input textarea based on its content
                  chatInput.style.height = `${inputInitHeight}px`;
                  chatInput.style.height = `${chatInput.scrollHeight}px`;
              });

              chatInput.addEventListener("keydown", (e) => {
                  // If Enter key is pressed without Shift key and the window 
                  // width is greater than 800px, handle the chat
                  if(e.key === "Enter" && !e.shiftKey && window.innerWidth > 800) {
                      e.preventDefault();
                      handleChat();
                  }
              });

              sendChatBtn.addEventListener("click", handleChat);
              closeBtn.addEventListener("click", () => document.body.classList.remove("show-chatbot"));
              chatbotToggler.addEventListener("click", () => document.body.classList.toggle("show-chatbot"));
            </script>
{% comment %} -----------------------------------Chat Desgin--------------------------------- {% endcomment %}

</body>
